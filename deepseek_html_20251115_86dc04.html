<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–•–ª–µ–±–Ω—ã–π –∫–ª–∏–∫–µ—Ä —Å –º–∏–Ω–∏-–∏–≥—Ä–æ–π</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #f5e8c8 0%, #e1c78f 100%);
            color: #5c3d2e;
            min-height: 100vh;
            padding: 20px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        .container {
            max-width: 1000px;
            width: 100%;
        }
        
        header {
            text-align: center;
            margin-bottom: 20px;
            padding: 20px;
            background-color: #e1c78f;
            border-radius: 15px;
            box-shadow: 0 6px 12px rgba(0,0,0,0.1);
            border: 3px solid #8b4513;
        }
        
        h1 {
            color: #8b4513;
            margin-bottom: 10px;
            font-size: 2.5rem;
            text-shadow: 2px 2px 0px rgba(255,255,255,0.5);
        }
        
        .tabs {
            display: flex;
            justify-content: center;
            margin-bottom: 20px;
            gap: 10px;
        }
        
        .tab {
            padding: 10px 20px;
            background-color: #d4b483;
            border: 2px solid #8b4513;
            border-radius: 8px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s;
        }
        
        .tab:hover {
            background-color: #c9a871;
        }
        
        .tab.active {
            background-color: #8b4513;
            color: white;
        }
        
        .game-content {
            display: none;
        }
        
        .game-content.active {
            display: block;
        }
        
        .stats {
            display: flex;
            justify-content: space-around;
            margin-bottom: 25px;
            background-color: #d4b483;
            padding: 15px;
            border-radius: 12px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            border: 2px solid #8b4513;
        }
        
        .stat-item {
            text-align: center;
            padding: 10px;
        }
        
        .stat-label {
            font-size: 1rem;
            margin-bottom: 5px;
        }
        
        .stat-value {
            font-size: 1.8rem;
            font-weight: bold;
            color: #8b4513;
        }
        
        .game-area {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-bottom: 25px;
            padding: 20px;
            background-color: #e1c78f;
            border-radius: 15px;
            box-shadow: 0 6px 12px rgba(0,0,0,0.1);
            border: 3px solid #8b4513;
        }
        
        .bread {
            width: 250px;
            height: 120px;
            background: linear-gradient(to bottom, #d4a574, #b17a4a);
            border-radius: 60px 60px 30px 30px;
            cursor: pointer;
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 20px 0;
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
            transition: transform 0.1s;
            position: relative;
            overflow: hidden;
            border: 5px solid #8b4513;
        }
        
        .bread:hover {
            transform: scale(1.05);
        }
        
        .bread:active {
            transform: scale(0.95);
        }
        
        .bread-crust {
            position: absolute;
            top: 0;
            width: 100%;
            height: 25%;
            background: linear-gradient(to bottom, #a0522d, #8b4513);
            border-radius: 60px 60px 0 0;
        }
        
        .bread-texture {
            position: absolute;
            width: 90%;
            height: 70%;
            top: 20%;
            display: flex;
            flex-wrap: wrap;
            justify-content: space-around;
            align-content: space-around;
        }
        
        .bread-pore {
            width: 12px;
            height: 12px;
            background-color: rgba(139, 69, 19, 0.3);
            border-radius: 50%;
            margin: 2px;
        }
        
        .bread-cut {
            position: absolute;
            width: 80%;
            height: 8px;
            background-color: #8b4513;
            border-radius: 4px;
            top: 50%;
            transform: translateY(-50%);
        }
        
        .minigame-container {
            width: 100%;
            height: 400px;
            background-color: #7a9e7e;
            border-radius: 10px;
            overflow: hidden;
            position: relative;
            border: 3px solid #5c3d2e;
            margin-bottom: 20px;
        }
        
        #minigame {
            width: 100%;
            height: 100%;
        }
        
        .minigame-info {
            display: flex;
            justify-content: space-between;
            margin-bottom: 10px;
            padding: 10px;
            background-color: #d4b483;
            border-radius: 8px;
            border: 2px solid #8b4513;
        }
        
        .minigame-controls {
            text-align: center;
            margin-top: 10px;
        }
        
        .minigame-btn {
            padding: 10px 20px;
            background-color: #8b4513;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            transition: background-color 0.3s;
        }
        
        .minigame-btn:hover {
            background-color: #a0522d;
        }
        
        .minigame-btn:disabled {
            background-color: #cccccc;
            cursor: not-allowed;
        }
        
        .car {
            position: absolute;
            width: 50px;
            height: 30px;
            background-color: #ff0000;
            border-radius: 5px 5px 0 0;
            z-index: 10;
        }
        
        .car::before {
            content: '';
            position: absolute;
            width: 60px;
            height: 15px;
            background-color: #cc0000;
            top: -10px;
            left: -5px;
            border-radius: 5px 5px 0 0;
        }
        
        .car::after {
            content: '';
            position: absolute;
            width: 10px;
            height: 10px;
            background-color: #222;
            border-radius: 50%;
            bottom: -5px;
        }
        
        .car-wheel-1 {
            left: 5px;
        }
        
        .car-wheel-2 {
            right: 5px;
        }
        
        .bread-piece {
            position: absolute;
            width: 20px;
            height: 20px;
            background: linear-gradient(to bottom, #d4a574, #b17a4a);
            border-radius: 50%;
            z-index: 5;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
            border: 1px solid #8b4513;
        }
        
        .bread-piece::after {
            content: '';
            position: absolute;
            width: 5px;
            height: 5px;
            background-color: rgba(139, 69, 19, 0.5);
            border-radius: 50%;
            top: 5px;
            left: 5px;
        }
        
        .road {
            position: absolute;
            width: 100%;
            height: 100%;
            background: linear-gradient(to bottom, #5a5a5a, #444);
        }
        
        .road-line {
            position: absolute;
            width: 100%;
            height: 10px;
            background-color: #fff;
            opacity: 0.7;
        }
        
        .shop {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            justify-content: center;
            margin-bottom: 20px;
        }
        
        .shop-category {
            width: 100%;
            margin-bottom: 20px;
        }
        
        .category-title {
            background-color: #8b4513;
            color: white;
            padding: 12px;
            border-radius: 8px;
            text-align: center;
            margin-bottom: 15px;
            font-size: 1.3rem;
            box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        }
        
        .shop-items {
            display: flex;
            flex-wrap: wrap;
            gap: 15px;
            justify-content: center;
        }
        
        .shop-item {
            background: linear-gradient(to bottom, #e1c78f, #d4b483);
            border: 3px solid #8b4513;
            border-radius: 10px;
            padding: 15px;
            width: 220px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        
        .shop-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 8px 16px rgba(0,0,0,0.2);
            background: linear-gradient(to bottom, #d4b483, #e1c78f);
        }
        
        .shop-item:disabled {
            background: linear-gradient(to bottom, #cccccc, #aaaaaa);
            cursor: not-allowed;
            color: #666;
            transform: none;
            box-shadow: none;
        }
        
        .shop-item:disabled:hover {
            transform: none;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        
        .item-name {
            font-weight: bold;
            margin-bottom: 8px;
            font-size: 1.1rem;
        }
        
        .item-desc {
            font-size: 0.9rem;
            margin-bottom: 8px;
            color: #5c3d2e;
        }
        
        .item-cost {
            color: #8b4513;
            font-weight: bold;
            margin-bottom: 5px;
            font-size: 1.1rem;
        }
        
        .item-level {
            font-size: 0.9rem;
            color: #5c3d2e;
            margin-top: 5px;
        }
        
        .progress-bar {
            height: 8px;
            background-color: #e1c78f;
            border-radius: 4px;
            margin-top: 8px;
            overflow: hidden;
        }
        
        .progress {
            height: 100%;
            background-color: #8b4513;
            width: 0%;
            transition: width 0.5s;
        }
        
        .click-effect {
            position: absolute;
            color: #8b4513;
            font-weight: bold;
            font-size: 1.5rem;
            pointer-events: none;
            animation: floatUp 1s ease-out forwards;
            text-shadow: 1px 1px 0 white;
        }
        
        @keyframes floatUp {
            0% {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
            100% {
                opacity: 0;
                transform: translateY(-80px) scale(1.5);
            }
        }
        
        .skin-preview {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            margin: 0 auto 10px;
            border: 2px solid #8b4513;
            box-shadow: 0 2px 4px rgba(0,0,0,0.2);
        }
        
        .skin-default {
            background: linear-gradient(45deg, #d4a574, #a0522d);
        }
        
        .skin-golden {
            background: linear-gradient(45deg, #ffd700, #ffec8b, #daa520);
        }
        
        .skin-chocolate {
            background: linear-gradient(45deg, #8b4513, #a0522d, #5c3d2e);
        }
        
        .skin-rainbow {
            background: linear-gradient(45deg, #ff0000, #ff9900, #ffff00, #00ff00, #00ffff, #0000ff, #9900ff);
        }
        
        .selected-skin {
            border: 4px solid #2e8b57;
            box-shadow: 0 0 15px #2e8b57;
        }
        
        footer {
            text-align: center;
            margin-top: 20px;
            padding: 15px;
            font-size: 0.9rem;
            color: #5c3d2e;
            width: 100%;
            background-color: #e1c78f;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
            border: 2px solid #8b4513;
        }
        
        .max-level {
            color: #2e8b57;
            font-weight: bold;
        }
        
        @media (max-width: 768px) {
            .stats {
                flex-direction: column;
                gap: 10px;
            }
            
            .shop-item {
                width: 100%;
                max-width: 300px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>üçû –•–ª–µ–±–Ω—ã–π –∫–ª–∏–∫–µ—Ä + –ú–∏–Ω–∏-–∏–≥—Ä–∞</h1>
            <p>–ö–ª–∏–∫–∞–π –Ω–∞ —Ö–ª–µ–± –∏–ª–∏ –∏–≥—Ä–∞–π –≤ –º–∏–Ω–∏-–∏–≥—Ä—É, —á—Ç–æ–±—ã –∑–∞—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –æ—á–∫–∏!</p>
        </header>
        
        <div class="tabs">
            <div class="tab active" data-tab="clicker">–•–ª–µ–±–Ω—ã–π –∫–ª–∏–∫–µ—Ä</div>
            <div class="tab" data-tab="minigame">–•–ª–µ–±–Ω—ã–π –≥–æ–Ω—â–∏–∫</div>
        </div>
        
        <div class="stats">
            <div class="stat-item">
                <div class="stat-label">–û—á–∫–∏</div>
                <div class="stat-value" id="points">0</div>
            </div>
            <div class="stat-item">
                <div class="stat-label">–û—á–∫–æ–≤ –∑–∞ –∫–ª–∏–∫</div>
                <div class="stat-value" id="points-per-click">1</div>
            </div>
            <div class="stat-item">
                <div class="stat-label">–û—á–∫–æ–≤ –≤ —Å–µ–∫—É–Ω–¥—É</div>
                <div class="stat-value" id="points-per-second">0</div>
            </div>
        </div>
        
        <div id="clicker-content" class="game-content active">
            <div class="game-area">
                <div class="bread" id="bread">
                    <div class="bread-crust"></div>
                    <div class="bread-texture" id="bread-texture"></div>
                    <div class="bread-cut"></div>
                </div>
                <p>–ö–ª–∏–∫–∞–π –Ω–∞ —Ö–ª–µ–±, —á—Ç–æ–±—ã –∑–∞—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –æ—á–∫–∏!</p>
            </div>
            
            <div class="shop">
                <div class="shop-category">
                    <div class="category-title">–£–ª—É—á—à–µ–Ω–∏—è –∫–ª–∏–∫–∞</div>
                    <div class="shop-items">
                        <div class="shop-item" id="upgrade-click-1">
                            <div class="item-name">–õ—É—á—à–∞—è –º—É–∫–∞</div>
                            <div class="item-desc">+1 –æ—á–∫–æ –∑–∞ –∫–ª–∏–∫</div>
                            <div class="item-cost">–°—Ç–æ–∏–º–æ—Å—Ç—å: <span id="upgrade-click-1-cost">10</span> –æ—á–∫–æ–≤</div>
                            <div class="item-level">–£—Ä–æ–≤–µ–Ω—å: <span id="upgrade-click-1-level">0</span>/25</div>
                            <div class="progress-bar">
                                <div class="progress" id="upgrade-click-1-progress"></div>
                            </div>
                        </div>
                        <div class="shop-item" id="upgrade-click-2">
                            <div class="item-name">–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è –ø–µ—á—å</div>
                            <div class="item-desc">+2 –æ—á–∫–∞ –∑–∞ –∫–ª–∏–∫</div>
                            <div class="item-cost">–°—Ç–æ–∏–º–æ—Å—Ç—å: <span id="upgrade-click-2-cost">50</span> –æ—á–∫–æ–≤</div>
                            <div class="item-level">–£—Ä–æ–≤–µ–Ω—å: <span id="upgrade-click-2-level">0</span>/25</div>
                            <div class="progress-bar">
                                <div class="progress" id="upgrade-click-2-progress"></div>
                            </div>
                        </div>
                        <div class="shop-item" id="upgrade-click-3">
                            <div class="item-name">–ú–∞—Å—Ç–µ—Ä-–ø–µ–∫–∞—Ä—å</div>
                            <div class="item-desc">+5 –æ—á–∫–æ–≤ –∑–∞ –∫–ª–∏–∫</div>
                            <div class="item-cost">–°—Ç–æ–∏–º–æ—Å—Ç—å: <span id="upgrade-click-3-cost">200</span> –æ—á–∫–æ–≤</div>
                            <div class="item-level">–£—Ä–æ–≤–µ–Ω—å: <span id="upgrade-click-3-level">0</span>/25</div>
                            <div class="progress-bar">
                                <div class="progress" id="upgrade-click-3-progress"></div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="shop-category">
                    <div class="category-title">–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –∑–∞—Ä–∞–±–æ—Ç–æ–∫</div>
                    <div class="shop-items">
                        <div class="shop-item" id="auto-click-1">
                            <div class="item-name">–ü–æ–º–æ—â–Ω–∏–∫ –ø–µ–∫–∞—Ä—è</div>
                            <div class="item-desc">+1 –æ—á–∫–æ –≤ —Å–µ–∫—É–Ω–¥—É</div>
                            <div class="item-cost">–°—Ç–æ–∏–º–æ—Å—Ç—å: <span id="auto-click-1-cost">30</span> –æ—á–∫–æ–≤</div>
                            <div class="item-level">–£—Ä–æ–≤–µ–Ω—å: <span id="auto-click-1-level">0</span>/25</div>
                            <div class="progress-bar">
                                <div class="progress" id="auto-click-1-progress"></div>
                            </div>
                        </div>
                        <div class="shop-item" id="auto-click-2">
                            <div class="item-name">–•–ª–µ–±–Ω—ã–π –∑–∞–≤–æ–¥</div>
                            <div class="item-desc">+3 –æ—á–∫–∞ –≤ —Å–µ–∫—É–Ω–¥—É</div>
                            <div class="item-cost">–°—Ç–æ–∏–º–æ—Å—Ç—å: <span id="auto-click-2-cost">100</span> –æ—á–∫–æ–≤</div>
                            <div class="item-level">–£—Ä–æ–≤–µ–Ω—å: <span id="auto-click-2-level">0</span>/25</div>
                            <div class="progress-bar">
                                <div class="progress" id="auto-click-2-progress"></div>
                            </div>
                        </div>
                        <div class="shop-item" id="auto-click-3">
                            <div class="item-name">–•–ª–µ–±–Ω–∞—è –∏–º–ø–µ—Ä–∏—è</div>
                            <div class="item-desc">+10 –æ—á–∫–æ–≤ –≤ —Å–µ–∫—É–Ω–¥—É</div>
                            <div class="item-cost">–°—Ç–æ–∏–º–æ—Å—Ç—å: <span id="auto-click-3-cost">500</span> –æ—á–∫–æ–≤</div>
                            <div class="item-level">–£—Ä–æ–≤–µ–Ω—å: <span id="auto-click-3-level">0</span>/25</div>
                            <div class="progress-bar">
                                <div class="progress" id="auto-click-3-progress"></div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="shop-category">
                    <div class="category-title">–°–∫–∏–Ω—ã –¥–ª—è —Ö–ª–µ–±–∞</div>
                    <div class="shop-items">
                        <div class="shop-item skin-item selected-skin" id="skin-default">
                            <div class="skin-preview skin-default"></div>
                            <div class="item-name">–û–±—ã—á–Ω—ã–π —Ö–ª–µ–±</div>
                            <div class="item-cost">–ë–µ—Å–ø–ª–∞—Ç–Ω–æ</div>
                        </div>
                        <div class="shop-item skin-item" id="skin-golden">
                            <div class="skin-preview skin-golden"></div>
                            <div class="item-name">–ó–æ–ª–æ—Ç–æ–π —Ö–ª–µ–±</div>
                            <div class="item-cost">–°—Ç–æ–∏–º–æ—Å—Ç—å: 1000 –æ—á–∫–æ–≤</div>
                        </div>
                        <div class="shop-item skin-item" id="skin-chocolate">
                            <div class="skin-preview skin-chocolate"></div>
                            <div class="item-name">–®–æ–∫–æ–ª–∞–¥–Ω—ã–π —Ö–ª–µ–±</div>
                            <div class="item-cost">–°—Ç–æ–∏–º–æ—Å—Ç—å: 2500 –æ—á–∫–æ–≤</div>
                        </div>
                        <div class="shop-item skin-item" id="skin-rainbow">
                            <div class="skin-preview skin-rainbow"></div>
                            <div class="item-name">–†–∞–¥—É–∂–Ω—ã–π —Ö–ª–µ–±</div>
                            <div class="item-cost">–°—Ç–æ–∏–º–æ—Å—Ç—å: 5000 –æ—á–∫–æ–≤</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div id="minigame-content" class="game-content">
            <div class="minigame-info">
                <div>–°–æ–±—Ä–∞–Ω–æ —Ö–ª–µ–±–∞: <span id="minigame-score">0</span></div>
                <div>–í—Ä–µ–º—è: <span id="minigame-time">60</span> —Å–µ–∫</div>
                <div>–ù–∞–≥—Ä–∞–¥–∞: <span id="minigame-reward">0</span> –æ—á–∫–æ–≤</div>
            </div>
            <div class="minigame-container">
                <canvas id="minigame"></canvas>
            </div>
            <div class="minigame-controls">
                <button class="minigame-btn" id="start-minigame">–ù–∞—á–∞—Ç—å –º–∏–Ω–∏-–∏–≥—Ä—É</button>
                <p>–£–ø—Ä–∞–≤–ª—è–π –º–∞—à–∏–Ω–∫–æ–π —Å –ø–æ–º–æ—â—å—é –º—ã—à–∏! –°–æ–±–∏—Ä–∞–π –∫—É—Å–∫–∏ —Ö–ª–µ–±–∞ –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –æ—á–∫–æ–≤.</p>
            </div>
        </div>
        
        <footer>
            <p>–ò–≥—Ä–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤–∞—à –ø—Ä–æ–≥—Ä–µ—Å—Å! –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å —É–ª—É—á—à–µ–Ω–∏–π - 25.</p>
        </footer>
    </div>

    <script>
        // –ò–≥—Ä–æ–≤—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
        let points = 0;
        let pointsPerClick = 1;
        let pointsPerSecond = 0;
        
        // –£–ª—É—á—à–µ–Ω–∏—è –∫–ª–∏–∫–∞
        const clickUpgrades = [
            { 
                id: 'upgrade-click-1', 
                baseCost: 10, 
                cost: 10, 
                points: 1, 
                level: 0, 
                maxLevel: 25,
                costMultiplier: 1.5
            },
            { 
                id: 'upgrade-click-2', 
                baseCost: 50, 
                cost: 50, 
                points: 2, 
                level: 0, 
                maxLevel: 25,
                costMultiplier: 1.6
            },
            { 
                id: 'upgrade-click-3', 
                baseCost: 200, 
                cost: 200, 
                points: 5, 
                level: 0, 
                maxLevel: 25,
                costMultiplier: 1.7
            }
        ];
        
        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —É–ª—É—á—à–µ–Ω–∏—è
        const autoUpgrades = [
            { 
                id: 'auto-click-1', 
                baseCost: 30, 
                cost: 30, 
                points: 1, 
                level: 0, 
                maxLevel: 25,
                costMultiplier: 1.5
            },
            { 
                id: 'auto-click-2', 
                baseCost: 100, 
                cost: 100, 
                points: 3, 
                level: 0, 
                maxLevel: 25,
                costMultiplier: 1.6
            },
            { 
                id: 'auto-click-3', 
                baseCost: 500, 
                cost: 500, 
                points: 10, 
                level: 0, 
                maxLevel: 25,
                costMultiplier: 1.7
            }
        ];
        
        // –°–∫–∏–Ω—ã
        const skins = [
            { id: 'skin-default', cost: 0, owned: true, selected: true },
            { id: 'skin-golden', cost: 1000, owned: false, selected: false },
            { id: 'skin-chocolate', cost: 2500, owned: false, selected: false },
            { id: 'skin-rainbow', cost: 5000, owned: false, selected: false }
        ];
        
        // –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è –º–∏–Ω–∏-–∏–≥—Ä—ã
        let minigameActive = false;
        let minigameScore = 0;
        let minigameTime = 60;
        let minigameTimer = null;
        let carX = 0;
        let carY = 0;
        let breadPieces = [];
        let roadLines = [];
        let canvas, ctx;
        
        // –ó–∞–≥—Ä—É–∑–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
        function loadGame() {
            const savedGame = localStorage.getItem('breadClickerSave');
            if (savedGame) {
                const gameData = JSON.parse(savedGame);
                
                points = gameData.points || 0;
                pointsPerClick = gameData.pointsPerClick || 1;
                pointsPerSecond = gameData.pointsPerSecond || 0;
                
                // –ó–∞–≥—Ä—É–∑–∫–∞ —É–ª—É—á—à–µ–Ω–∏–π
                if (gameData.clickUpgrades) {
                    for (let i = 0; i < clickUpgrades.length; i++) {
                        if (gameData.clickUpgrades[i]) {
                            clickUpgrades[i].level = gameData.clickUpgrades[i].level;
                            clickUpgrades[i].cost = gameData.clickUpgrades[i].cost;
                        }
                    }
                }
                
                if (gameData.autoUpgrades) {
                    for (let i = 0; i < autoUpgrades.length; i++) {
                        if (gameData.autoUpgrades[i]) {
                            autoUpgrades[i].level = gameData.autoUpgrades[i].level;
                            autoUpgrades[i].cost = gameData.autoUpgrades[i].cost;
                        }
                    }
                }
                
                // –ó–∞–≥—Ä—É–∑–∫–∞ —Å–∫–∏–Ω–æ–≤
                if (gameData.skins) {
                    for (let i = 0; i < skins.length; i++) {
                        if (gameData.skins[i]) {
                            skins[i].owned = gameData.skins[i].owned;
                            skins[i].selected = gameData.skins[i].selected;
                        }
                    }
                }
                
                updateUI();
            }
        }
        
        // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–≥—Ä—ã
        function saveGame() {
            const gameData = {
                points: points,
                pointsPerClick: pointsPerClick,
                pointsPerSecond: pointsPerSecond,
                clickUpgrades: clickUpgrades,
                autoUpgrades: autoUpgrades,
                skins: skins
            };
            
            localStorage.setItem('breadClickerSave', JSON.stringify(gameData));
        }
        
        // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
        function updateUI() {
            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –æ—á–∫–æ–≤
            document.getElementById('points').textContent = Math.floor(points);
            document.getElementById('points-per-click').textContent = pointsPerClick;
            document.getElementById('points-per-second').textContent = pointsPerSecond;
            
            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —É–ª—É—á—à–µ–Ω–∏–π –∫–ª–∏–∫–∞
            for (let i = 0; i < clickUpgrades.length; i++) {
                const upgrade = clickUpgrades[i];
                const element = document.getElementById(upgrade.id);
                const costElement = document.getElementById(`${upgrade.id}-cost`);
                const levelElement = document.getElementById(`${upgrade.id}-level`);
                const progressElement = document.getElementById(`${upgrade.id}-progress`);
                
                costElement.textContent = Math.floor(upgrade.cost);
                levelElement.textContent = upgrade.level;
                
                // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–∞
                const progressPercent = (upgrade.level / upgrade.maxLevel) * 100;
                progressElement.style.width = `${progressPercent}%`;
                
                // –ï—Å–ª–∏ –¥–æ—Å—Ç–∏–≥–Ω—É—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å
                if (upgrade.level >= upgrade.maxLevel) {
                    element.disabled = true;
                    levelElement.innerHTML = '<span class="max-level">–ú–ê–ö–°</span>';
                    costElement.textContent = '–ú–ê–ö–°';
                } else {
                    // –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –∫–Ω–æ–ø–∫–∏, –µ—Å–ª–∏ –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –æ—á–∫–æ–≤
                    if (points < upgrade.cost) {
                        element.disabled = true;
                    } else {
                        element.disabled = false;
                    }
                }
            }
            
            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö —É–ª—É—á—à–µ–Ω–∏–π
            for (let i = 0; i < autoUpgrades.length; i++) {
                const upgrade = autoUpgrades[i];
                const element = document.getElementById(upgrade.id);
                const costElement = document.getElementById(`${upgrade.id}-cost`);
                const levelElement = document.getElementById(`${upgrade.id}-level`);
                const progressElement = document.getElementById(`${upgrade.id}-progress`);
                
                costElement.textContent = Math.floor(upgrade.cost);
                levelElement.textContent = upgrade.level;
                
                // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å-–±–∞—Ä–∞
                const progressPercent = (upgrade.level / upgrade.maxLevel) * 100;
                progressElement.style.width = `${progressPercent}%`;
                
                // –ï—Å–ª–∏ –¥–æ—Å—Ç–∏–≥–Ω—É—Ç –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å
                if (upgrade.level >= upgrade.maxLevel) {
                    element.disabled = true;
                    levelElement.innerHTML = '<span class="max-level">–ú–ê–ö–°</span>';
                    costElement.textContent = '–ú–ê–ö–°';
                } else {
                    // –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –∫–Ω–æ–ø–∫–∏, –µ—Å–ª–∏ –Ω–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –æ—á–∫–æ–≤
                    if (points < upgrade.cost) {
                        element.disabled = true;
                    } else {
                        element.disabled = false;
                    }
                }
            }
            
            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–∫–∏–Ω–æ–≤
            for (let i = 0; i < skins.length; i++) {
                const skin = skins[i];
                const element = document.getElementById(skin.id);
                
                // –ï—Å–ª–∏ —Å–∫–∏–Ω –≤—ã–±—Ä–∞–Ω, –¥–æ–±–∞–≤–ª—è–µ–º –∫–ª–∞—Å—Å selected
                if (skin.selected) {
                    element.classList.add('selected-skin');
                } else {
                    element.classList.remove('selected-skin');
                }
                
                // –ï—Å–ª–∏ —Å–∫–∏–Ω –∫—É–ø–ª–µ–Ω, —Ä–∞–∑–±–ª–æ–∫–∏—Ä—É–µ–º –µ–≥–æ
                if (skin.owned) {
                    element.disabled = false;
                    // –£–±–∏—Ä–∞–µ–º —Å—Ç–æ–∏–º–æ—Å—Ç—å –¥–ª—è –∫—É–ø–ª–µ–Ω–Ω—ã—Ö —Å–∫–∏–Ω–æ–≤
                    const costElement = element.querySelector('.item-cost');
                    if (costElement && skin.id !== 'skin-default') {
                        costElement.textContent = '–ö—É–ø–ª–µ–Ω–æ';
                    }
                } else {
                    // –ë–ª–æ–∫–∏—Ä—É–µ–º —Å–∫–∏–Ω, –µ—Å–ª–∏ –Ω–µ —Ö–≤–∞—Ç–∞–µ—Ç –æ—á–∫–æ–≤
                    if (points < skin.cost) {
                        element.disabled = true;
                    } else {
                        element.disabled = false;
                    }
                }
            }
            
            // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–≥—Ä—ã –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è UI
            saveGame();
        }
        
        // –ö–ª–∏–∫ –ø–æ —Ö–ª–µ–±—É
        function clickBread(event) {
            // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –æ—á–∫–æ–≤
            points += pointsPerClick;
            
            // –°–æ–∑–¥–∞–Ω–∏–µ —ç—Ñ—Ñ–µ–∫—Ç–∞ "+X" –ø—Ä–∏ –∫–ª–∏–∫–µ
            const clickEffect = document.createElement('div');
            clickEffect.className = 'click-effect';
            clickEffect.textContent = `+${pointsPerClick}`;
            clickEffect.style.left = `${event.offsetX}px`;
            clickEffect.style.top = `${event.offsetY}px`;
            
            document.getElementById('bread').appendChild(clickEffect);
            
            // –£–¥–∞–ª–µ–Ω–∏–µ —ç—Ñ—Ñ–µ–∫—Ç–∞ –ø–æ—Å–ª–µ –∞–Ω–∏–º–∞—Ü–∏–∏
            setTimeout(() => {
                clickEffect.remove();
            }, 1000);
            
            updateUI();
        }
        
        // –ü–æ–∫—É–ø–∫–∞ —É–ª—É—á—à–µ–Ω–∏—è –∫–ª–∏–∫–∞
        function buyClickUpgrade(index) {
            const upgrade = clickUpgrades[index];
            
            if (points >= upgrade.cost && upgrade.level < upgrade.maxLevel) {
                points -= upgrade.cost;
                upgrade.level++;
                pointsPerClick += upgrade.points;
                
                // –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Å—Ç–æ–∏–º–æ—Å—Ç—å –¥–ª—è —Å–ª–µ–¥—É—é—â–µ–≥–æ —É—Ä–æ–≤–Ω—è
                upgrade.cost = Math.floor(upgrade.baseCost * Math.pow(upgrade.costMultiplier, upgrade.level));
                
                updateUI();
            }
        }
        
        // –ü–æ–∫—É–ø–∫–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —É–ª—É—á—à–µ–Ω–∏—è
        function buyAutoUpgrade(index) {
            const upgrade = autoUpgrades[index];
            
            if (points >= upgrade.cost && upgrade.level < upgrade.maxLevel) {
                points -= upgrade.cost;
                upgrade.level++;
                pointsPerSecond += upgrade.points;
                
                // –£–≤–µ–ª–∏—á–∏–≤–∞–µ–º —Å—Ç–æ–∏–º–æ—Å—Ç—å –¥–ª—è —Å–ª–µ–¥—É—é—â–µ–≥–æ —É—Ä–æ–≤–Ω—è
                upgrade.cost = Math.floor(upgrade.baseCost * Math.pow(upgrade.costMultiplier, upgrade.level));
                
                updateUI();
            }
        }
        
        // –ü–æ–∫—É–ø–∫–∞ —Å–∫–∏–Ω–∞
        function buySkin(index) {
            const skin = skins[index];
            
            // –ï—Å–ª–∏ —Å–∫–∏–Ω —É–∂–µ –∫—É–ø–ª–µ–Ω, –ø—Ä–æ—Å—Ç–æ –≤—ã–±–∏—Ä–∞–µ–º –µ–≥–æ
            if (skin.owned) {
                // –°–Ω–∏–º–∞–µ–º –≤—ã–¥–µ–ª–µ–Ω–∏–µ —Å–æ –≤—Å–µ—Ö —Å–∫–∏–Ω–æ–≤
                for (let i = 0; i < skins.length; i++) {
                    skins[i].selected = false;
                }
                
                // –í—ã–±–∏—Ä–∞–µ–º —Ç–µ–∫—É—â–∏–π —Å–∫–∏–Ω
                skin.selected = true;
                
                // –ü—Ä–∏–º–µ–Ω—è–µ–º —Å–∫–∏–Ω –∫ —Ö–ª–µ–±—É
                applySkin(skin.id);
            } 
            // –ï—Å–ª–∏ —Å–∫–∏–Ω –Ω–µ –∫—É–ø–ª–µ–Ω, –Ω–æ —Ö–≤–∞—Ç–∞–µ—Ç –æ—á–∫–æ–≤
            else if (points >= skin.cost) {
                points -= skin.cost;
                skin.owned = true;
                
                // –°–Ω–∏–º–∞–µ–º –≤—ã–¥–µ–ª–µ–Ω–∏–µ —Å–æ –≤—Å–µ—Ö —Å–∫–∏–Ω–æ–≤
                for (let i = 0; i < skins.length; i++) {
                    skins[i].selected = false;
                }
                
                // –í—ã–±–∏—Ä–∞–µ–º —Ç–µ–∫—É—â–∏–π —Å–∫–∏–Ω
                skin.selected = true;
                
                // –ü—Ä–∏–º–µ–Ω—è–µ–º —Å–∫–∏–Ω –∫ —Ö–ª–µ–±—É
                applySkin(skin.id);
            }
            
            updateUI();
        }
        
        // –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ —Å–∫–∏–Ω–∞ –∫ —Ö–ª–µ–±—É
        function applySkin(skinId) {
            const bread = document.getElementById('bread');
            
            // –£–¥–∞–ª—è–µ–º –ø—Ä–µ–¥—ã–¥—É—â–∏–µ –∫–ª–∞—Å—Å—ã —Å–∫–∏–Ω–æ–≤
            bread.classList.remove('skin-default', 'skin-golden', 'skin-chocolate', 'skin-rainbow');
            
            // –î–æ–±–∞–≤–ª—è–µ–º –Ω–æ–≤—ã–π –∫–ª–∞—Å—Å —Å–∫–∏–Ω–∞
            bread.classList.add(skinId);
        }
        
        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –Ω–∞—á–∏—Å–ª–µ–Ω–∏–µ –æ—á–∫–æ–≤
        function autoEarnPoints() {
            points += pointsPerSecond / 10; // –î–µ–ª–∞–µ–º 10 —Ä–∞–∑ –≤ —Å–µ–∫—É–Ω–¥—É –¥–ª—è –ø–ª–∞–≤–Ω–æ—Å—Ç–∏
            updateUI();
        }
        
        // –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç—É—Ä—ã —Ö–ª–µ–±–∞
        function createBreadTexture() {
            const texture = document.getElementById('bread-texture');
            texture.innerHTML = '';
            
            for (let i = 0; i < 40; i++) {
                const pore = document.createElement('div');
                pore.className = 'bread-pore';
                texture.appendChild(pore);
            }
        }
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –º–∏–Ω–∏-–∏–≥—Ä—ã
        function initMinigame() {
            canvas = document.getElementById('minigame');
            ctx = canvas.getContext('2d');
            
            // –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Ä–∞–∑–º–µ—Ä–æ–≤ canvas
            canvas.width = canvas.offsetWidth;
            canvas.height = canvas.offsetHeight;
            
            // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –¥–æ—Ä–æ–∂–Ω—ã—Ö –ª–∏–Ω–∏–π
            for (let i = 0; i < 5; i++) {
                roadLines.push({
                    y: i * 100,
                    speed: 3
                });
            }
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–≤–∏–∂–µ–Ω–∏—è –º—ã—à–∏
            canvas.addEventListener('mousemove', (e) => {
                if (!minigameActive) return;
                
                const rect = canvas.getBoundingClientRect();
                carX = e.clientX - rect.left - 25;
                carY = e.clientY - rect.top - 15;
                
                // –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–≤–∏–∂–µ–Ω–∏—è –º–∞—à–∏–Ω–∫–∏ –≤ –ø—Ä–µ–¥–µ–ª–∞—Ö canvas
                carX = Math.max(0, Math.min(canvas.width - 50, carX));
                carY = Math.max(0, Math.min(canvas.height - 30, carY));
            });
        }
        
        // –û—Ç—Ä–∏—Å–æ–≤–∫–∞ –º–∏–Ω–∏-–∏–≥—Ä—ã
        function drawMinigame() {
            if (!minigameActive) return;
            
            // –û—á–∏—Å—Ç–∫–∞ canvas
            ctx.clearRect(0, 0, canvas.width, canvas.height);
            
            // –û—Ç—Ä–∏—Å–æ–≤–∫–∞ –¥–æ—Ä–æ–≥–∏
            ctx.fillStyle = '#5a5a5a';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            // –û—Ç—Ä–∏—Å–æ–≤–∫–∞ –¥–æ—Ä–æ–∂–Ω—ã—Ö –ª–∏–Ω–∏–π
            ctx.fillStyle = '#ffffff';
            roadLines.forEach(line => {
                ctx.fillRect(canvas.width / 2 - 2, line.y, 4, 30);
                
                // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–∏ –ª–∏–Ω–∏–∏
                line.y += line.speed;
                if (line.y > canvas.height) {
                    line.y = -30;
                }
            });
            
            // –û—Ç—Ä–∏—Å–æ–≤–∫–∞ –∫—É—Å–∫–æ–≤ —Ö–ª–µ–±–∞
            breadPieces.forEach((piece, index) => {
                ctx.fillStyle = '#d4a574';
                ctx.beginPath();
                ctx.arc(piece.x, piece.y, 10, 0, Math.PI * 2);
                ctx.fill();
                
                ctx.strokeStyle = '#8b4513';
                ctx.lineWidth = 1;
                ctx.stroke();
                
                // –¢–µ–∫—Å—Ç—É—Ä–∞ —Ö–ª–µ–±–∞
                ctx.fillStyle = 'rgba(139, 69, 19, 0.5)';
                ctx.beginPath();
                ctx.arc(piece.x - 3, piece.y - 3, 2, 0, Math.PI * 2);
                ctx.arc(piece.x + 3, piece.y + 2, 2, 0, Math.PI * 2);
                ctx.arc(piece.x + 1, piece.y - 4, 2, 0, Math.PI * 2);
                ctx.fill();
                
                // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–∏
                piece.y += piece.speed;
                
                // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏—è —Å –º–∞—à–∏–Ω–∫–æ–π
                if (Math.abs(piece.x - (carX + 25)) < 25 && Math.abs(piece.y - (carY + 15)) < 20) {
                    breadPieces.splice(index, 1);
                    minigameScore++;
                    document.getElementById('minigame-score').textContent = minigameScore;
                }
                
                // –£–¥–∞–ª–µ–Ω–∏–µ –≤—ã—à–µ–¥—à–∏—Ö –∑–∞ –ø—Ä–µ–¥–µ–ª—ã –∫—É—Å–∫–æ–≤
                if (piece.y > canvas.height + 10) {
                    breadPieces.splice(index, 1);
                }
            });
            
            // –û—Ç—Ä–∏—Å–æ–≤–∫–∞ –º–∞—à–∏–Ω–∫–∏
            ctx.fillStyle = '#ff0000';
            ctx.fillRect(carX, carY, 50, 30);
            
            ctx.fillStyle = '#cc0000';
            ctx.beginPath();
            ctx.moveTo(carX - 5, carY);
            ctx.lineTo(carX + 55, carY);
            ctx.lineTo(carX + 45, carY - 10);
            ctx.lineTo(carX + 5, carY - 10);
            ctx.closePath();
            ctx.fill();
            
            // –ö–æ–ª—ë—Å–∞
            ctx.fillStyle = '#222';
            ctx.beginPath();
            ctx.arc(carX + 10, carY + 30, 5, 0, Math.PI * 2);
            ctx.arc(carX + 40, carY + 30, 5, 0, Math.PI * 2);
            ctx.fill();
            
            // –°—Ç–µ–∫–ª–æ
            ctx.fillStyle = 'rgba(173, 216, 230, 0.7)';
            ctx.fillRect(carX + 10, carY - 8, 30, 8);
            
            // –ó–∞–ø—Ä–æ—Å —Å–ª–µ–¥—É—é—â–µ–≥–æ –∫–∞–¥—Ä–∞
            requestAnimationFrame(drawMinigame);
        }
        
        // –ó–∞–ø—É—Å–∫ –º–∏–Ω–∏-–∏–≥—Ä—ã
        function startMinigame() {
            if (minigameActive) return;
            
            minigameActive = true;
            minigameScore = 0;
            minigameTime = 60;
            
            document.getElementById('minigame-score').textContent = minigameScore;
            document.getElementById('minigame-time').textContent = minigameTime;
            document.getElementById('start-minigame').disabled = true;
            
            // –°–±—Ä–æ—Å –ø–æ–∑–∏—Ü–∏–∏ –º–∞—à–∏–Ω–∫–∏
            carX = canvas.width / 2 - 25;
            carY = canvas.height - 100;
            
            // –û—á–∏—Å—Ç–∫–∞ –∫—É—Å–∫–æ–≤ —Ö–ª–µ–±–∞
            breadPieces = [];
            
            // –ó–∞–ø—É—Å–∫ —Ç–∞–π–º–µ—Ä–∞
            minigameTimer = setInterval(() => {
                minigameTime--;
                document.getElementById('minigame-time').textContent = minigameTime;
                
                if (minigameTime <= 0) {
                    endMinigame();
                }
            }, 1000);
            
            // –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –∫—É—Å–∫–æ–≤ —Ö–ª–µ–±–∞
            const breadGenerator = setInterval(() => {
                if (!minigameActive) {
                    clearInterval(breadGenerator);
                    return;
                }
                
                breadPieces.push({
                    x: Math.random() * (canvas.width - 20) + 10,
                    y: -10,
                    speed: 2 + Math.random() * 3
                });
            }, 800);
            
            // –ó–∞–ø—É—Å–∫ –æ—Ç—Ä–∏—Å–æ–≤–∫–∏
            drawMinigame();
        }
        
        // –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –º–∏–Ω–∏-–∏–≥—Ä—ã
        function endMinigame() {
            minigameActive = false;
            clearInterval(minigameTimer);
            
            // –ù–∞—á–∏—Å–ª–µ–Ω–∏–µ –æ—á–∫–æ–≤
            const reward = minigameScore * 10;
            points += reward;
            
            document.getElementById('minigame-reward').textContent = reward;
            document.getElementById('start-minigame').disabled = false;
            
            updateUI();
        }
        
        // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≤–∫–ª–∞–¥–æ–∫
        function setupTabs() {
            const tabs = document.querySelectorAll('.tab');
            const contents = document.querySelectorAll('.game-content');
            
            tabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    // –£–±–∏—Ä–∞–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å —Å–æ –≤—Å–µ—Ö –≤–∫–ª–∞–¥–æ–∫ –∏ –∫–æ–Ω—Ç–µ–Ω—Ç–∞
                    tabs.forEach(t => t.classList.remove('active'));
                    contents.forEach(c => c.classList.remove('active'));
                    
                    // –î–æ–±–∞–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å –∫ –≤—ã–±—Ä–∞–Ω–Ω–æ–π –≤–∫–ª–∞–¥–∫–µ –∏ –∫–æ–Ω—Ç–µ–Ω—Ç—É
                    tab.classList.add('active');
                    document.getElementById(`${tab.dataset.tab}-content`).classList.add('active');
                    
                    // –ï—Å–ª–∏ –ø–µ—Ä–µ–∫–ª—é—á–∞–µ–º—Å—è –Ω–∞ –º–∏–Ω–∏-–∏–≥—Ä—É, –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º –µ—ë
                    if (tab.dataset.tab === 'minigame') {
                        initMinigame();
                    }
                });
            });
        }
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏–≥—Ä—ã
        function initGame() {
            // –ó–∞–≥—Ä—É–∑–∫–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è
            loadGame();
            
            // –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–æ–≤ —Å–æ–±—ã—Ç–∏–π
            document.getElementById('bread').addEventListener('click', clickBread);
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è —É–ª—É—á—à–µ–Ω–∏–π –∫–ª–∏–∫–∞
            for (let i = 0; i < clickUpgrades.length; i++) {
                document.getElementById(clickUpgrades[i].id).addEventListener('click', () => buyClickUpgrade(i));
            }
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö —É–ª—É—á—à–µ–Ω–∏–π
            for (let i = 0; i < autoUpgrades.length; i++) {
                document.getElementById(autoUpgrades[i].id).addEventListener('click', () => buyAutoUpgrade(i));
            }
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è —Å–∫–∏–Ω–æ–≤
            for (let i = 0; i < skins.length; i++) {
                document.getElementById(skins[i].id).addEventListener('click', () => buySkin(i));
            }
            
            // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –º–∏–Ω–∏-–∏–≥—Ä—ã
            document.getElementById('start-minigame').addEventListener('click', startMinigame);
            
            // –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤–∫–ª–∞–¥–æ–∫
            setupTabs();
            
            // –ó–∞–ø—É—Å–∫ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∑–∞—Ä–∞–±–æ—Ç–∫–∞
            setInterval(autoEarnPoints, 100);
            
            // –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ —Å–∫–∏–Ω–∞
            for (let i = 0; i < skins.length; i++) {
                if (skins[i].selected) {
                    applySkin(skins[i].id);
                    break;
                }
            }
            
            // –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç—É—Ä—ã —Ö–ª–µ–±–∞
            createBreadTexture();
            
            // –ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ UI
            updateUI();
        }
        
        // –ó–∞–ø—É—Å–∫ –∏–≥—Ä—ã –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
        window.onload = initGame;
    </script>
</body>
</html>